{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>HngI8 Resume stage 2 </title>
        <link rel="icon" type="image/x-icon" href="{% static 'resumeApp/assets/img/favicon.ico' %}" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static 'resumeApp/css/styles.css' %}" rel="stylesheet" />

    </head>
    <body id="page-top" class="bg-bubble">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <span class="d-block d-lg-none">Joseph Adebowale</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="{% static 'resumeApp/assets/img/profile.jpg' %}" alt="..." /></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experience">Experience</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#education">Education</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#skills">Skills</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#projects">Projects</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#interests">Interests</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#contacts">Contacts</li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0 d-flex flex-column">
            
          <div class="w-75 gap-sm-5 overflow-scroll visually-hidden h-auto align-self-center position-fixed" id="Alerts">
          </div>

            <!-- About-->
            <section class="resume-section" id="about">
                <div class="resume-section-content">
                    <h1 class="mb-0">
                        Joseph
                        <span class="text-primary">Adebowale</span>
                    </h1>
                    <div class="subheading mb-5">
                        Independece hall University of Ibadan, Ibadan Oyo, Nigeria. (+234) 8024772895
                        <a href="mailto:adebowale_jojo@yahoo.com">adebowale_jojo@yahoo.com</a>
                    </div>
                    <p class="lead mb-5">
                      I am a backend developer with expericence primarily in python (django).
                    </p>
                </div>
                <hr class="m-0" />

            </section>
            <hr class="m-0" />
      
            <!-- Experience-->
            <section class="resume-section" id="experience">
                <div class="resume-section-content">
                    <h2 class="mb-5">Experience</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Backend Developer</h3>
                            <div class="subheading mb-3">Zedux</div>
                            <p>Collaboratively built backend for a Learning management system </p>
                        </div>
                        <div class="flex-shrink-0"><span class="text-primary">April 2021 - June 2021</span></div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Python tutor</h3>
                            <div class="subheading mb-3">Robo kids academy</div>
                            <p>Taugth ev3 python(Python Programming for Lego  Ev3 robots) to high school students</p>
                        </div>
                        <div class="flex-shrink-0"><span class="text-primary">January 2021 - August 2021</span></div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Education-->
            <section class="resume-section" id="education">
                <div class="resume-section-content">
                    <h2 class="mb-5">Education</h2>
                    
                    <div class="d-flex flex-column flex-md-row justify-content-between ">
                      <div class="flex-grow-1 d-flex justify-content-between">
                        <div class="">
                          <h3 class="mb-0 table-hover" ><a class="text-black text-decoration-none" href="https://internship.zuri.team/" target="_blank">HNGi8 xi4g</a></h3>
                          <div class="subheading mb-3">Internship Program</div>
                          <p>Stage: 2</p>
                        </div>
                        <div class="d-flex flex-column">
                          <img src="{% static 'resumeApp/assets/img/hng.png' %}"  class="align-self-end" style="width: 50px;height: 50ox;"/>
                          <div class="flex-shrink-0"><span class="text-primary">August 2021 - </span></div>
                          </div>
                      </div>
                    </div>
                    
                    <hr class="mb-5" />
                    
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0"><a class="text-black text-decoration-none" href="https://ui.edu.ng/"  target="_blank">University of Ibadan</a></h3>
                            <div class="subheading mb-3">Bachelor of Science</div>
                            <div>Computer Science</div>
                            <p>CGPA: 3.02</p>
                        </div>
                        <div class="flex-shrink-0"><span class="text-primary">June 2019 - </span></div>
                    </div>

                    <hr class="mb-5" />
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0"><a class="text-black text-decoration-none" href="https://latointlschools.business.site/" target="_blank">Lato High School</a></h3>
                            <div class="subheading mb-3">SSCE</div>
                        </div>
                        <div class="flex-shrink-0"><span class="text-primary">August 2012 - June 2018</span></div>
                    </div>
                </div>
            </section>

            <hr class="m-0" />
            <!-- Skills-->
            <section class="resume-section" id="skills">
                <div class="resume-section-content">
                    <h2 class="mb-5">Skills</h2>
                    <div class="subheading mb-3">Programming Languages & Tools</div>
                    <ul class="list-inline dev-icons">
                      {% for skill in skills %}
                        <a class="list-inline-item" type="button" data-toggle="tooltip" data-placement="bottom" title="{{ skill.title }}" role="button">
                          <img class="icon" title="{{ skill.title }}" {% if skill.icon_url %} src="{{ skill.icon_url }}" {% else %} src="{{ skill.icon.url }}" {% endif %} />
                        </a>
                      {% endfor %}
                      </ul>
                </div>
            </section>

            <hr class="m-0" />
            <!-- Projects-->
            <section class="resume-section" id="projects">
                <div class="resume-section-content" >
                    <h2 class="mb-5">Projects</h2>
                    <div class="d-flex container-fluid mx-1" style="overflow-x: scroll;">
                      {% for project in projects %}
                        <div class="card border rounded col-md-4 col-12 mx-1 shadow modal-toggel" role="button" type="button" data-toggle="modal" data-target="#{{ project.id }}-Modal">
                          <img src="{{ project.image.url }}"  class="card-img-top" alt="..." >
                          <div class="card-body">
                            <h5 class="card-title">{{ project.title }}</h5>
                            <p class="card-text">{{ project.description|truncatechars:50 }}.</p>
                            <p class="card-text"><small class="text-muted">click for full view</small></p>
                          </div>
                        </div>
                      {% endfor %}
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Interests-->
            <section class="resume-section" id="interests">
                <div class="resume-section-content">
                    <h2 class="mb-5">Interests</h2>
                    <p>Apart from being a Backend developer, am also into game development with unreal engine, I enjoy reading up on the laetes technologies in web development.</p>
                    <p>I enjoy most of my time in door (which i enjoy), whenever am forced to go out I enjoy watching nature sceneries and star gazing</p>
                </div>
            </section>

            <hr class="m-0" />

            <!-- Contacts-->
            <section class="resume-section" id="contacts">
              <form class="w-md-75 p-3 border needs-validation">
                <h2 class="mb-3">Contact me</h2>
                <div class="subheading mb-5">
                  Independece hall University of Ibadan, Ibadan Oyo, Nigeria.
                  <br/>
                  <a href="tel:+2348024772895">(+234) 8024772895</a>
                  <br/>
                  <a href="mailto:adebowale_jojo@yahoo.com">adebowale_jojo@yahoo.com</a>
                </div>
                <div class="social-icons my-5"> 
                  <a class="social-icon" href="https://www.linkedin.com/in/joseph-adebowale-b8712420a/"><i class="fab fa-linkedin-in"></i></a>
                  <a class="social-icon" href="https://github.com/Joseph455"><i class="fab fa-github"></i></a>
                  <a class="social-icon" href="https://twitter.com/JhAdebowale"><i class="fab fa-twitter"></i></a>

                </div>
                {% csrf_token %}
                
                <div class="form-group pb-2">
                  <label for="inputName">Full Name: </label>
                  <input type="text" class="form-control" id="inputName" placeholder="Joseph Adebowale" required maxlength="100">
                  <small>First name & Last name</small>
                  <div class="invalid-feedback">
                    &Cross;
                    Please Enter your full name.
                  </div>
                  <div class="valid-feedback">
                    <!-- &checkmark; -->
                  </div>
                </div>

                <div class="form-group pb-2">
                  <label for="inputEmail">Email: </label>
                  <input type="email" class="form-control" id="inputEmail" placeholder="name@gmail.com" required>
                  <small class="text-muted px-3">Input your email address</small>
                  <div class="invalid-feedback">
                    &Cross;
                    Your email address is required to submit this form
                  </div>
                  <div class="valid-feedback">
                    <!-- &checkmark; -->
                  </div>
                </div>
                
                <div class="form-group pb-2">
                  <label for="inputPhone">Phone No:</label>
                  <input type="tel" class="form-control" id="inputPhone" placeholder="08024772895" required>
                  <small class="text-muted px-3">Input primary phone number</small>
                  <div class="invalid-feedback">
                    &Cross;
                    Your phone number is required to submit this form
                  </div>
                  <div class="valid-feedback">
                    <!-- &checkmark; -->  
                  </div>

                </div>
                <div class="form-group pb-2">
                  <label for="inputCompany">Company Name</label>
                  <input type="text" class="form-control" id="inputCompany" placeholder="Zedux" maxlength="150">
                  <small class="text-muted px-3">Input company name if any</small>
                </div>
                <div class="form-group pb-2">
                  <label for="inputMessage">Message</label>
                  <textarea class="form-control" maxlength="400"  style="height: 15vh;" id="inputMessage" placeholder="Write your massage here" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit Form</button>
              </form>
            </section>
            <footer class="fixed-bottom container-fluid bg-dark d-flex justify-content-between h-auto">
              <a href="https://icons8.com/icon/20909/html-5">Html 5 icon by Icons8</a>
              <a href="https://icons8.com/icon/39854/javascript">JavaScript icon by Icons8</a>
              <a href="https://icons8.com/icon/84710/bootstrap">Bootstrap icon by Icons8</a>
              <a href="https://icons8.com/icon/13441/python">Python icon by Icons8</a>
              <a href="https://icons8.com/icon/AksudKrBQryM/django">Django icon by Icons8</a>
              <a href="https://icons8.com/icon/21893/rest-api">Rest API icon by Icons8</a>
            </footer>

            {% for project in projects %}
              <div class="modal fade" style="max-height: 100vh;" tabindex="-1" role="dialog" id="{{ project.id }}-Modal" aria-labelledby="{{ project.id }}Modal" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title">{{ project.title }}</h5>
                      <button type="button" class="close btn close btn-close" data-dismiss="#{{ project.id }}-Modal" aria-label="Close" >
                      </button>
                    </div>
                    <div class="modal-body p-2 overflow-scroll">
                      <img src="{{ project.image.url }}" class="border rounded w-100 h-75" />
                      <p class="text-muted">{{ project.description }}</p>
                      <div class="d-flex flex-column">
                        <small class="">Demo <a href="{{ project.demo_url }}" target="_blank">{{ project.demo_url }}</a></small>
                        <small class="">Source Code <a href="{{ project.source_url }}" target="_blank">{{ project.source_url }}</a></small>
                      </div>
                    </div>
                    <div class="modal-footer p-0 flex-column">
                      <button type="button" class="btn btn-secondary close " data-dismiss="#{{ project.id }}-Modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        
        <!-- Core theme JS-->
        <script src="{% static 'resumeApp/js/scripts.js' %}"></script>
        
        <script>

      (function() {
        'use strict';
        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.getElementsByClassName('needs-validation');
          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              } else {
                event.preventDefault();
                event.stopPropagation();
                submitFormAjax("post/", getFormData())
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      
      })();

      function getFormData(){
        let body = {};
        body.name = document.getElementById("inputName").value;
        body.email = document.getElementById("inputEmail").value;
        body.phone = document.getElementById("inputPhone").value;
        body.company = document.getElementById("inputCompany").value;
        body.message = document.getElementById("inputMessage").value  ;
        return body
      }

      function submitFormAjax(url, body) {
        let csrf = Array.from(document.getElementsByName("csrfmiddlewaretoken"))[0];
        let xhr = new XMLHttpRequest();
        let form_data = new FormData();
        let container = document.getElementById("Alerts");

        xhr.open("POST", url, true);
        xhr.setRequestHeader("X-CSRFToken", csrf.value);

        form_data.append("name", body.name);
        form_data.append("email", body.email);
        form_data.append("phone", body.phone);
        form_data.append("company", body.company);
        form_data.append("message", body.message);

        xhr.send(form_data);
        xhr.onload = function () {
          if (xhr.status == 200){
            let data  =  JSON.parse(xhr.responseText);

            if (data.message){
              let alert = `
                <div class="alert alert-dismissible alert-success fade show" role="alert">
                  ${data.message}
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              `;
              container.innerHTML = alert;
              container.classList.remove("visually-hidden");
            }

          } else if (xhr.status == 404){
            let data  =  JSON.parse(xhr.responseText);
            
            if (data.errors){
              Array.from(data.errors).forEach(error => {
                let alert = `
                  <div class="alert alert-dismissible alert-danger fade show" role="alert">
                    ${error}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true" class="close">&times;</span>
                    </button>
                  </div>
                `;
                container.innerHTML += alert;
                container.classList.remove("visually-hidden");
              });
            }

          } else if (xhr.status == 403){
            // incase csrf token has expired 
            window.location.reload();
          }
        };
      }

      document.querySelectorAll(".modal-toggel").forEach(modal => {
        modal.addEventListener('click', (event)=> {
          let target = modal.dataset['target']; 
          $(target).modal('show')
        });
      });

      document.querySelectorAll('.close').forEach(btn => {
        btn.addEventListener('click', (event) => {
          let target = btn.dataset['dismiss'];
          $(target).modal('hide');
        })
      })

      </script>
    </body>
</html>

